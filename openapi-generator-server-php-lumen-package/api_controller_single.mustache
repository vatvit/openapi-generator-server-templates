<?php

declare(strict_types=1);

/**
 * {{appName}}
 * {{#appDescription}}
 * {{{appDescription}}}
 * {{/appDescription}}
 * PHP version {{phpVersion}}
 *
 * @category Class
 * @package  {{apiPackage}}
 * @author   OpenAPI Generator
 * @link     https://openapi-generator.tech
 */

/**
 * NOTE: This class is auto-generated by OpenAPI Generator
 * https://openapi-generator.tech
 * Do not edit this class manually.
 */

namespace {{apiPackage}};

use Illuminate\Http\Request;
use Illuminate\Http\JsonResponse;

{{#operations}}
/**
 * {{classname}}Controller
 *
 * Controller for {{baseName}} operations
 * Implements business logic interface for contract enforcement
 *
 * @category Controller
 * @package  {{apiPackage}}
 * @author   OpenAPI Generator
 * @link     https://openapi-generator.tech
 */
class {{classname}}Controller
{
    /**
     * Business logic implementation
     *
     * @var {{classname}}
     */
    private {{classname}} $implementation;

    /**
     * Constructor
     *
     * @param {{classname}} $implementation Business logic implementation
     */
    public function __construct({{classname}} $implementation)
    {
        $this->implementation = $implementation;
    }

{{#operation}}
    /**
     * Operation {{operationId}}
     *
     * {{summary}}{{#notes}}
     * {{{notes}}}{{/notes}}
     *
{{#allParams}}
     * @param {{#isPathParam}}{{#isString}}string{{/isString}}{{#isInteger}}int{{/isInteger}}{{#isLong}}int{{/isLong}}{{/isPathParam}}{{^isPathParam}}Request{{/isPathParam}} ${{#isPathParam}}{{paramName}}{{/isPathParam}}{{^isPathParam}}request{{/isPathParam}}{{#description}} {{{description}}}{{/description}}
{{/allParams}}
     * @return JsonResponse
     */
    public function {{operationId}}(Request $request{{#pathParams}}, {{#isString}}string{{/isString}}{{#isInteger}}int{{/isInteger}}{{#isLong}}int{{/isLong}} ${{paramName}}{{/pathParams}}): JsonResponse
    {
        // Extract parameters from request
{{#queryParams}}
        ${{paramName}} = $request->query('{{paramName}}'{{^required}}, null{{/required}});
{{/queryParams}}
{{#bodyParams}}
        ${{paramName}} = $request->input('{{paramName}}'{{^required}}, null{{/required}});
{{/bodyParams}}

        // Call business logic implementation
        return $this->implementation->{{operationId}}({{#allParams}}${{paramName}}{{^-last}}, {{/-last}}{{/allParams}});
    }

{{/operation}}
}
{{/operations}}
