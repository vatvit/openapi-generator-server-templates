<?php

declare(strict_types=1);

namespace {{invokerPackage}}\InputFilter;

use Laminas\Filter\ToInt;
use Laminas\Filter\StringTrim;
use Laminas\Filter\StripTags;
use Laminas\InputFilter\InputFilter;
use Laminas\Validator\Between;
use Laminas\Validator\EmailAddress;
use Laminas\Validator\InArray;
use Laminas\Validator\NotEmpty;
use Laminas\Validator\Regex;
use Laminas\Validator\StringLength;
use Laminas\Validator\Uuid;

/**
 * {{operationIdCamelCase}}InputFilter
 *
 * Laminas InputFilter for {{operationId}} operation validation.
 * Auto-generated from OpenAPI specification.
 *
 * @see https://docs.laminas.dev/laminas-inputfilter/
 * @generated
 */
final class {{operationIdCamelCase}}InputFilter extends InputFilter
{
    /**
     * Initialize input filter with validation rules from OpenAPI spec.
     */
    public function init(): void
    {
{{#allParams}}
        // Input: {{paramName}}
        $this->add([
            'name' => '{{paramName}}',
{{#required}}
            'required' => true,
{{/required}}
{{^required}}
            'required' => false,
            'allow_empty' => true,
{{/required}}
            'filters' => [
{{#isString}}
                ['name' => StringTrim::class],
                ['name' => StripTags::class],
{{/isString}}
{{#isInteger}}
                ['name' => ToInt::class],
{{/isInteger}}
{{#isLong}}
                ['name' => ToInt::class],
{{/isLong}}
            ],
            'validators' => [
{{#required}}
                ['name' => NotEmpty::class],
{{/required}}
{{#isString}}
{{#minLength}}{{#maxLength}}
                [
                    'name' => StringLength::class,
                    'options' => [
                        'min' => {{minLength}},
                        'max' => {{maxLength}},
                    ],
                ],
{{/maxLength}}{{/minLength}}
{{#minLength}}{{^maxLength}}
                [
                    'name' => StringLength::class,
                    'options' => ['min' => {{minLength}}],
                ],
{{/maxLength}}{{/minLength}}
{{^minLength}}{{#maxLength}}
                [
                    'name' => StringLength::class,
                    'options' => ['max' => {{maxLength}}],
                ],
{{/maxLength}}{{/minLength}}
{{/isString}}
{{#minimum}}{{#maximum}}
                [
                    'name' => Between::class,
                    'options' => [
                        'min' => {{minimum}},
                        'max' => {{maximum}},
                        'inclusive' => true,
                    ],
                ],
{{/maximum}}{{/minimum}}
{{#pattern}}
                [
                    'name' => Regex::class,
                    'options' => ['pattern' => '/{{pattern}}/'],
                ],
{{/pattern}}
{{#isEnum}}
                [
                    'name' => InArray::class,
                    'options' => [
                        'haystack' => [{{#allowableValues}}{{#enumVars}}{{{value}}}{{^-last}}, {{/-last}}{{/enumVars}}{{/allowableValues}}],
                        'strict' => InArray::COMPARE_STRICT,
                    ],
                ],
{{/isEnum}}
{{#isEmail}}
                ['name' => EmailAddress::class],
{{/isEmail}}
{{#isUuid}}
                ['name' => Uuid::class],
{{/isUuid}}
            ],
        ]);

{{/allParams}}
    }
}
